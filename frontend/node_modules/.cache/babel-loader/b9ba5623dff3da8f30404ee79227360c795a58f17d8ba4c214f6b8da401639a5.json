{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dell/Downloads/MERN FOOD/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Dell/Downloads/MERN FOOD/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"C:/Users/Dell/Downloads/MERN FOOD/frontend/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/Dell/Downloads/MERN FOOD/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Dell/Downloads/MERN FOOD/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{toast}from'react-hot-toast';import{BsCloudUpload}from\"react-icons/bs\";import{ImagetoBase64}from'../utility/ImagetoBase64';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Newproduct=function Newproduct(){var _useState=useState({name:\"\",category:\"\",image:\"\",price:\"\",description:\"\"}),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var handleOnChange=function handleOnChange(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setData(function(preve){return _objectSpread(_objectSpread({},preve),{},_defineProperty({},name,value));});};var uploadImage=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return ImagetoBase64(e.target.files[0]);case 2:data=_context.sent;// console.log(data)\nsetData(function(preve){return _objectSpread(_objectSpread({},preve),{},{image:data});});case 4:case\"end\":return _context.stop();}},_callee);}));return function uploadImage(_x){return _ref.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var name,image,category,price,fetchData,fetchRes;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();console.log(data);name=data.name,image=data.image,category=data.category,price=data.price;if(!(name&&image&&category&&price)){_context2.next=15;break;}_context2.next=6;return fetch(\"https://food-backend-mern.onrender.com/uploadProduct\",{method:\"POST\",headers:{\"content-type\":\"application/json\"},body:JSON.stringify(data)});case 6:fetchData=_context2.sent;_context2.next=9;return fetchData.json();case 9:fetchRes=_context2.sent;console.log(fetchRes);toast(fetchRes.message);setData(function(){return{name:\"\",category:\"\",image:\"\",price:\"\",description:\"\"};});_context2.next=16;break;case 15:toast(\"Enter required Fields\");case 16:case\"end\":return _context2.stop();}},_callee2);}));return function handleSubmit(_x2){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"m-auto w-full max-w-md  shadow flex flex-col p-3 bg-white\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"bg-slate-200 p-1 my-1\",onChange:handleOnChange,value:data.name}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Category\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"bg-slate-200 p-1 my-1\",id:\"category\",name:\"category\",onChange:handleOnChange,value:data.category,children:[/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"select category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"fruits\",children:\"Fruits\"}),/*#__PURE__*/_jsx(\"option\",{value:\"vegetable\",children:\"Vegetable\"}),/*#__PURE__*/_jsx(\"option\",{value:\"icream\",children:\"Icream\"}),/*#__PURE__*/_jsx(\"option\",{value:\"dosa\",children:\"Dosa\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pizza\",children:\"Pizza\"}),/*#__PURE__*/_jsx(\"option\",{value:\"rice\",children:\"rice\"}),/*#__PURE__*/_jsx(\"option\",{value:\"cake\",children:\"Cake\"}),/*#__PURE__*/_jsx(\"option\",{value:\"burger\",children:\"Burger\"}),/*#__PURE__*/_jsx(\"option\",{value:\"panner\",children:\"Panner\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sandwich\",children:\"Sandwich\"})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"image\",children:[\"Image\",/*#__PURE__*/_jsxs(\"div\",{className:\"h-40 w-full bg-slate-200  rounded flex items-center justify-center cursor-pointer\",children:[data.image?/*#__PURE__*/_jsx(\"img\",{src:data.image,className:\"h-full\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-5xl\",children:/*#__PURE__*/_jsx(BsCloudUpload,{})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",id:\"image\",onChange:uploadImage,className:\"hidden\"})]})]}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price\",className:\"my-1\",children:\"Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"bg-slate-200 p-1 my-1\",name:\"price\",onChange:handleOnChange,value:data.price}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{rows:2,value:data.description,className:\"bg-slate-200 p-1 my-1 resize-none\",name:\"description\",onChange:handleOnChange}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-red-500 hover:bg-red-600 text-white text-lg font-medium my-2 drop-shadow\",children:\"Save\"})]})});};export default Newproduct;","map":{"version":3,"names":["React","useState","toast","BsCloudUpload","ImagetoBase64","Newproduct","name","category","image","price","description","data","setData","handleOnChange","e","target","value","preve","uploadImage","files","handleSubmit","preventDefault","console","log","fetch","method","headers","body","JSON","stringify","fetchData","json","fetchRes","message"],"sources":["C:/Users/Dell/Downloads/MERN FOOD/frontend/src/page/Newproduct.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport { toast } from 'react-hot-toast'\r\nimport { BsCloudUpload } from \"react-icons/bs\"\r\nimport { ImagetoBase64 } from '../utility/ImagetoBase64'\r\n\r\nconst Newproduct = () => {\r\n  const [data, setData] = useState({\r\n    name: \"\",\r\n    category: \"\",\r\n    image: \"\",\r\n    price: \"\",\r\n    description: \"\"\r\n  })\r\n\r\n  const handleOnChange = (e) => {\r\n    const { name, value } = e.target\r\n\r\n    setData((preve) => {\r\n      return {\r\n        ...preve,\r\n        [name]: value\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  const uploadImage = async (e) => {\r\n    const data = await ImagetoBase64(e.target.files[0])\r\n    // console.log(data)\r\n\r\n    setData((preve) => {\r\n      return {\r\n        ...preve,\r\n        image: data\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    console.log(data)\r\n\r\n    const { name, image, category, price } = data\r\n\r\n    if (name && image && category && price) {\r\n      const fetchData = await fetch(`https://food-backend-mern.onrender.com/uploadProduct`, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(data)\r\n      })\r\n\r\n      const fetchRes = await fetchData.json()\r\n\r\n      console.log(fetchRes)\r\n      toast(fetchRes.message)\r\n\r\n      setData(() => {\r\n        return {\r\n          name: \"\",\r\n          category: \"\",\r\n          image: \"\",\r\n          price: \"\",\r\n          description: \"\"\r\n        }\r\n      })\r\n    }\r\n    else {\r\n      toast(\"Enter required Fields\")\r\n    }\r\n\r\n\r\n  }\r\n  return (\r\n    <div className=\"p-4\">\r\n      <form className='m-auto w-full max-w-md  shadow flex flex-col p-3 bg-white' onSubmit={handleSubmit}>\r\n        <label htmlFor='name'>Name</label>\r\n        <input type={\"text\"} name=\"name\" className='bg-slate-200 p-1 my-1' onChange={handleOnChange} value={data.name} />\r\n\r\n        <label htmlFor='category'>Category</label>\r\n        <select className='bg-slate-200 p-1 my-1' id='category' name='category' onChange={handleOnChange} value={data.category}>\r\n          <option value={\"other\"}>select category</option>\r\n          <option value={\"fruits\"}>Fruits</option>\r\n          <option value={\"vegetable\"}>Vegetable</option>\r\n          <option value={\"icream\"}>Icream</option>\r\n          <option value={\"dosa\"}>Dosa</option>\r\n          <option value={\"pizza\"}>Pizza</option>\r\n          <option value={\"rice\"}>rice</option>\r\n          <option value={\"cake\"}>Cake</option>\r\n          <option value={\"burger\"}>Burger</option>\r\n          <option value={\"panner\"}>Panner</option>\r\n          <option value={\"sandwich\"}>Sandwich</option>\r\n        </select>\r\n\r\n        <label htmlFor='image'>Image\r\n          <div className='h-40 w-full bg-slate-200  rounded flex items-center justify-center cursor-pointer'>\r\n            {\r\n              data.image ? <img src={data.image} className=\"h-full\" /> : <span className='text-5xl'><BsCloudUpload /></span>\r\n            }\r\n\r\n\r\n            <input type={\"file\"} accept=\"image/*\" id=\"image\" onChange={uploadImage} className=\"hidden\" />\r\n          </div>\r\n        </label>\r\n\r\n\r\n        <label htmlFor='price' className='my-1'>Price</label>\r\n        <input type={\"text\"} className='bg-slate-200 p-1 my-1' name='price' onChange={handleOnChange} value={data.price} />\r\n\r\n        <label htmlFor='description'>Description</label>\r\n        <textarea rows={2} value={data.description} className='bg-slate-200 p-1 my-1 resize-none' name='description' onChange={handleOnChange}></textarea>\r\n\r\n        <button className='bg-red-500 hover:bg-red-600 text-white text-lg font-medium my-2 drop-shadow'>Save</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Newproduct"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}