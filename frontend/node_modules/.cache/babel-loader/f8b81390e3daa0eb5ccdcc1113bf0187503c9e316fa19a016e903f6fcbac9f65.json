{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nimport { toast } from \"react-hot-toast\";\nconst initialState = {\n  productList: [],\n  cartItem: JSON.parse(localStorage.getItem(\"cartItem\")) || []\n};\nexport const productSlice = createSlice({\n  name: \"product\",\n  initialState,\n  reducers: {\n    setDataProduct: (state, action) => {\n      state.productList = [...action.payload];\n    },\n    addCartItem: (state, action) => {\n      const check = state.cartItem.some(el => el._id === action.payload._id);\n      if (check) {\n        toast(\"Already Item in Cart\");\n      } else {\n        toast(\"Item Add successfully\");\n        const total = action.payload.price;\n        state.cartItem = [...state.cartItem, {\n          ...action.payload,\n          qty: 1,\n          total: total\n        }];\n        // Save cart items to localStorage\n        localStorage.setItem(\"cartItem\", JSON.stringify(state.cartItem));\n      }\n    },\n    deleteCartItem: (state, action) => {\n      toast(\"One Item Deleted\");\n      const index = state.cartItem.findIndex(el => el._id === action.payload);\n      state.cartItem.splice(index, 1);\n      // Save cart items to localStorage\n      localStorage.setItem(\"cartItem\", JSON.stringify(state.cartItem));\n      console.log(index);\n    },\n    increaseQty: (state, action) => {\n      const index = state.cartItem.findIndex(el => el._id === action.payload);\n      let qty = state.cartItem[index].qty;\n      const qtyInc = ++qty;\n      state.cartItem[index].qty = qtyInc;\n      const price = state.cartItem[index].price;\n      const total = price * qtyInc;\n      state.cartItem[index].total = total;\n      // Save cart items to localStorage\n      localStorage.setItem(\"cartItem\", JSON.stringify(state.cartItem));\n    },\n    decreaseQty: (state, action) => {\n      const index = state.cartItem.findIndex(el => el._id === action.payload);\n      let qty = state.cartItem[index].qty;\n      if (qty > 1) {\n        const qtyDec = --qty;\n        state.cartItem[index].qty = qtyDec;\n        const price = state.cartItem[index].price;\n        const total = price * qtyDec;\n        state.cartItem[index].total = total;\n        // Save cart items to localStorage\n        localStorage.setItem(\"cartItem\", JSON.stringify(state.cartItem));\n      }\n    }\n  }\n});\nexport const {\n  setDataProduct,\n  addCartItem,\n  deleteCartItem,\n  increaseQty,\n  decreaseQty\n} = productSlice.actions;\nexport default productSlice.reducer;","map":{"version":3,"names":["createSlice","toast","initialState","productList","cartItem","JSON","parse","localStorage","getItem","productSlice","name","reducers","setDataProduct","state","action","payload","addCartItem","check","some","el","_id","total","price","qty","setItem","stringify","deleteCartItem","index","findIndex","splice","console","log","increaseQty","qtyInc","decreaseQty","qtyDec","actions","reducer"],"sources":["C:/React/MERN FOOD/frontend/src/redux/productSlide.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nimport { toast } from \"react-hot-toast\";\r\n\r\nconst initialState = {\r\n  productList: [],\r\n  cartItem: JSON.parse(localStorage.getItem(\"cartItem\")) || [],\r\n};\r\n\r\nexport const productSlice = createSlice({\r\n  name: \"product\",\r\n  initialState,\r\n  reducers: {\r\n    setDataProduct: (state, action) => {\r\n      state.productList = [...action.payload];\r\n    },\r\n    addCartItem: (state, action) => {\r\n      const check = state.cartItem.some((el) => el._id === action.payload._id);\r\n      if (check) {\r\n        toast(\"Already Item in Cart\");\r\n      } else {\r\n        toast(\"Item Add successfully\");\r\n        const total = action.payload.price;\r\n        state.cartItem = [\r\n          ...state.cartItem,\r\n          { ...action.payload, qty: 1, total: total },\r\n        ];\r\n        // Save cart items to localStorage\r\n        localStorage.setItem(\"cartItem\", JSON.stringify(state.cartItem));\r\n      }\r\n    },\r\n    deleteCartItem: (state, action) => {\r\n      toast(\"One Item Deleted\");\r\n      const index = state.cartItem.findIndex((el) => el._id === action.payload);\r\n      state.cartItem.splice(index, 1);\r\n      // Save cart items to localStorage\r\n      localStorage.setItem(\"cartItem\", JSON.stringify(state.cartItem));\r\n      console.log(index);\r\n    },\r\n    increaseQty: (state, action) => {\r\n      const index = state.cartItem.findIndex((el) => el._id === action.payload);\r\n      let qty = state.cartItem[index].qty;\r\n      const qtyInc = ++qty;\r\n      state.cartItem[index].qty = qtyInc;\r\n\r\n      const price = state.cartItem[index].price;\r\n      const total = price * qtyInc;\r\n\r\n      state.cartItem[index].total = total;\r\n      // Save cart items to localStorage\r\n      localStorage.setItem(\"cartItem\", JSON.stringify(state.cartItem));\r\n    },\r\n    decreaseQty: (state, action) => {\r\n      const index = state.cartItem.findIndex((el) => el._id === action.payload);\r\n      let qty = state.cartItem[index].qty;\r\n      if (qty > 1) {\r\n        const qtyDec = --qty;\r\n        state.cartItem[index].qty = qtyDec;\r\n\r\n        const price = state.cartItem[index].price;\r\n        const total = price * qtyDec;\r\n\r\n        state.cartItem[index].total = total;\r\n        // Save cart items to localStorage\r\n        localStorage.setItem(\"cartItem\", JSON.stringify(state.cartItem));\r\n      }\r\n    },\r\n  },\r\n});\r\n\r\nexport const {\r\n  setDataProduct,\r\n  addCartItem,\r\n  deleteCartItem,\r\n  increaseQty,\r\n  decreaseQty,\r\n} = productSlice.actions;\r\n\r\nexport default productSlice.reducer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}